{%load static%}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link 
        rel="stylesheet" 
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
        crossorigin="anonymous"
    >

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">
  
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <link href="{% static "css/main.css" %}"rel="stylesheet" media="all">
    
    <style type="text/css">
      /* The main navbar color, set to the dark maroon from the sample image */
      .bg-\[\#48060dff\] {
          background-color: #48060dff !important;
      }
      .cardI{
        background-color: #48060dff !important;
      }

      /* Custom style for the logo font and size */
      .navbar-brand {
        font-size: 20px;
        font-family: sans-serif;
        font-weight: 600; /* Made text a bit bolder */
        /* Adjustment for spacing near the logo/icon */
        padding-left: 0 !important; 
        margin-right: 2rem !important; /* Added space to push content away from the logo */
      }

      /* Style for the center links to be visually distinct */
      .navbar-nav .nav-link {
        /* Increased padding slightly for better spread */
        padding-left: 1.5rem !important; 
        padding-right: 1.5rem !important; 
        transition: background-color 0.3s;
        border-radius: 0.25rem;
      }

      .navbar-nav .nav-link:hover {
        background-color: rgba(255, 255, 255, 0.1);
      }

      /* Styles for the CTA buttons */
      .cta {
          text-decoration: none !important;
          display: inline-block;
          padding: 0.75rem 1.5rem; 
          font-size: 1rem; 
          font-weight: 600;
          color: white;
          background-color: #360308ff; 
          border-radius: 9999px;
          border: 0.5px solid white;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
          transition: background-color 0.3s ease, transform 0.3s ease, border-color 0.3s ease;
      }
      .cta:hover {
        background-color: #48060dff; 
        text-decoration: none;
        transform: scale(1.05);
        color: white;
        border-color: white;
      }
      /* Styles specifically for the Admin button to match the open border look */
      .admin-cta {
          background-color: transparent !important; /* Make Admin button transparent */
          border-color: white !important; /* White border for Admin button */
          border-radius: 9999px !important; /* Ensure full pill shape for border buttons too */
          padding: 0.75rem 1.5rem;
      }
      .admin-cta:hover {
          background-color: rgba(255, 255, 255, 0.1) !important;
      }
      /* Styles specifically for the Donate Blood Now button to match the fill look */
      .donate-cta {
          /* Use the dark maroon background color for a filled look */
          background-color: #48060dff !important;
          border-radius: 9999px !important;
      }
      /* === NEW STYLE FOR SUCCESS ALERT CARD (COPIED FROM PATIENT) === */
      .success-alert-card {
          background-color: #48060dff !important; /* Matches Navbar color */
          color: white;
          border: 1px solid white;
          border-radius: 0.5rem;
          padding: 30px;
          text-align: center;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
          max-width: 500px;
          margin: auto; /* Center the card */
      }
      .success-alert-card h2 {
          color: white;
          margin-bottom: 20px;
          font-weight: 600;
      }
      .success-alert-card .btn-login {
          /* Matches the background of the main CTA button */
          background-color: #360308ff; 
          border-color: white;
          color: white;
          font-weight: 600;
          padding: 0.75rem 1.5rem;
          border-radius: 9999px;
          transition: background-color 0.3s ease, transform 0.3s ease;
          text-decoration: none; /* Important for <a> tag */
      }
      .success-alert-card .btn-login:hover {
          background-color: #48060dff; 
          transform: scale(1.05);
      }
      .btn:hover{
color:white !important
      }
      /* ======================================= */
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-[#48060dff] sticky-top pl-md-5 pl-lg-5">
        
        <a class="navbar-brand" href="/">
            <i class="fas fa-hand-holding-heart"></i>  Blood Donation System
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto"> 
                <li class="nav-item active">
                    <a class="nav-link" href="/"><i class="fas fa-home"></i> Home</a>
                </li>
                <li class="nav-item active active">
                    <a class="nav-link" href="/donor/donorlogin"><i class="fas fa-user"></i> Donor</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/patient/patientlogin"><i class="fas fa-bed"></i> Patient</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/#why-us-section"><i class="fas fa-info-circle"></i> Why Us</a>
                </li>
            </ul>

            <div class="navbar-nav ml-auto"> 
                                  <a
              href="/adminlogin" style"text-decoration:none"
              title="Admin use only"
              class="text-white block border border-white hover:bg-[#48060dff] hover:text-[#48060dff] px-1 py-1 rounded-md text-base font-medium mt-2 text-center"
            >
                        <i class="fas fa-user-shield"></i>        
            </a>

            </div>
        </div>
    </nav>
    <div class="page-wrapper p-t-45 p-b-50">
        <div class="wrapper wrapper--w790">
            <br><br><br>

            {% if registered %}
                <div class="success-alert-card">
                    <h2><i class="fas fa-check-circle"></i> Registration Submitted!</h2>
                    <p>Your donor registration has been submitted successfully for **admin review**. You can now log in to view your dashboard.</p>
                    <br>
                    <a href="/donor/donorlogin" class="btn btn-login">
                        Click here to Login
                    </a>
                </div>
                {% else %}
                <div class=" card-5">
                    <div class="cardI card-heading">
                        <h2 class="title">Donor Registeration</h2>
                    </div>
                    <div class="card-body">
                        
                        <form method="POST" autocomplete="off" enctype="multipart/form-data">
                            {% csrf_token %}
                            
                            {% if userForm.non_field_errors or donorForm.non_field_errors %}
                                <div class="alert alert-danger" role="alert">
                                    <strong>Registration Error:</strong>
                                    {{ userForm.non_field_errors }}
                                    {{ donorForm.non_field_errors }}
                                </div>
                            {% endif %}

                            <div class="form-row">
                                <div class="name">First Name</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field userForm.first_name|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in userForm.first_name.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="name">Last Name</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field userForm.last_name|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in userForm.last_name.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="name">Username</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field userForm.username|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in userForm.username.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
        
                            <div class="form-row">
                                <div class="name">Password</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field userForm.password|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in userForm.password.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>


                            <div class="form-row">
                                <div class="name">Blood Group</div>
                                <div class="value">
                                    <div class="input-group">
                                        <div class="rs-select2 js-select-simple select--no-search">
                                            <select name="bloodgroup">
                                                <option disabled="disabled" selected="selected">Choose option</option>
                                                <option>O+</option>
                                                <option>O-</option>
                                                <option>A+</option>
                                                <option>A-</option>
                                                <option>B+</option>
                                                <option>B-</option>
                                                <option>AB+</option>
                                                <option>AB-</option>
                                            </select>
                                            <div class="select-dropdown"></div>
                                            </div>
                                        {% for error in donorForm.bloodgroup.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>


                            <div class="form-row">
                                <div class="name">Address</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field donorForm.address|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in donorForm.address.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="name">Mobile</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field donorForm.mobile|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in donorForm.mobile.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="name">Profile Pic</div>
                                <div class="value">
                                    <div class="input-group">
                                        {% render_field donorForm.profile_pic|attr:'required:true'  class="input--style-5"  %}
                                        {% for error in donorForm.profile_pic.errors %}
                                            <div class="text-danger small">{{ error }}</div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
        
                            
                            

                            <div>
                               <button class="btn btn--radius-2" type="submit" style="background-color:#48060dff !important">Register</button>
                            </div>
                        </form>
                        <br>
                        <p style="text-align: center;">Already have an account ? <a style="text-decoration: none;" href="/donor/donorlogin">Click here to login</a></p>

                    </div>
                </div>
            {% endif %}
        </div>
    </div>

{% include "blood/footer.html" %}
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  </body>
</html>